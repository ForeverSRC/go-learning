# 第三章 基础数据类型

Go语言的四种数据类型：

* 基础类型：数字、字符串、布尔型
* 复合类型：数组、结构体
* 引用类型：指针、切片、映射、函数、通道
* 接口类型

## 3.1 整型

无符号数往往只有在位运算或其他特殊的运算场景才会使用。

浮点数到整数的转换将丢失任何小数部分，然后向数轴零方向截断。

## 3.2 浮点数

Go语言提供了两种精度的浮点数：`float32`和`float64`，通常应优先使用`float64`

## 3.3 复数

Go语言提供了两种精度的复数类型:`complex64`和`complex128`，分别对应`float32`和`float64`两 种浮点数精度。内置的`complex`函数用于构建复数，内建的`real`和`imag`函数分别返回复数的实部和虚部。

如果一个浮点数面值或一个十进制整数面值后面跟着一个i，例如3.141592i或2i，它将构成一 个复数的虚部，复数的实部是0。

## 3.5 字符串

一个字符串是一个不可改变的字节序列。

可以用索引的方式返回第i个字节的字节值。第i个字节并不一定是字符串的第i个字符，因为对于非ASCII字符的UTF8编码会要两个或多个 字节。

`s[i:j]`基于原始的s字符串的第[i,j)个字节，生成一个新的字符串。i和j可被忽略，当它们被忽略时，采用0作为开始位置，`len(s)`作为终止位置。

一个原生的字符串面值形式是\``，使用反引号代替双引号。在原生的字符串面值中，没有转义操作。

### 3.5.4 字符串和Byte切片

标准库中有四个包对字符串处理尤为重要:`bytes`、`strings`、`strconv`和`unicode`包

一个字符串是包含的只读字节数组，一旦创建，是不可变的。相比之下，一个字节slice的元 素则可以自由地修改。

字符串和字节slice之间可以相互转换

```go
s:="abc"
b:=[]byte(s)
s2:=string(b)
```

bytes包还提供了`Buffer`类型用于字节slice的缓存。一个`Buffer`开始是空的，但是随着`string`、 `byte`或`[]byte`等类型数据的写入可以动态增长，一个`bytes.Buffer`变量并不需要初始化，因为零值也是有效的

# 3.6 常量

常量表达式的值在编译期计算，而不是在运行期。每种常量的潜在类型都是基础类型:boolean、string或数字。

常量的值不可修改。

因为常量的值在编译期确定，因此常量可用于指定数组长度。

如果是批量声明的常量，除了第一个外其它的常量右边的初始化表达式都可以省略，如果省 略初始化表达式则表示使用前面常量的初始化表达式写法，对应的常量类型也一样的：

```go
const (
	a=1
  b //b=1
  c=2
  d //d=2
)
```

### 3.6.1 iota常量生成器

用于生成一组以相似规则初始化的常量。

在第一个声明的常量所在的行，iota将会被置0，然后在每一个有常量声明的行加1。

```go
type Weekday int
const(
	Sunday Weekday=iota
  Monday
  Tuesday
  Wednesday
  Thursday
  Friday
  Saturday
)
```



